{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nexport const placeOrder = createAsyncThunk('orders/place', async ({\n  userId,\n  token,\n  items\n}) => {\n  const res = await fetch(`${process.env.REACT_APP_ORDER_URL}/orders/${userId}/place`, {\n    method: 'POST',\n    headers: {\n      'Authorization': `Bearer ${token}`,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      userId,\n      items\n    })\n  });\n  const data = await res.json();\n  if (!res.ok) throw new Error(data.message || 'Order placement failed');\n  return data;\n});\nexport const fetchOrders = createAsyncThunk('orders/fetch', async ({\n  userId\n}) => {\n  const token = localStorage.getItem('token');\n  const res = await fetch(`${process.env.REACT_APP_ORDER_URL}/orders/${userId}`, {\n    headers: {\n      'Authorization': `Bearer ${token}`\n    }\n  });\n  return await res.json();\n});\nconst orderSlice = createSlice({\n  name: 'orders',\n  initialState: {\n    list: [],\n    loading: false,\n    error: null\n  },\n  extraReducers: builder => {\n    builder.addCase(fetchOrders.fulfilled, (state, action) => {\n      state.list = action.payload;\n    });\n  }\n});\nexport default orderSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","placeOrder","userId","token","items","res","fetch","process","env","REACT_APP_ORDER_URL","method","headers","body","JSON","stringify","data","json","ok","Error","message","fetchOrders","localStorage","getItem","orderSlice","name","initialState","list","loading","error","extraReducers","builder","addCase","fulfilled","state","action","payload","reducer"],"sources":["/home/senthilkumar/project/shopping-cart/frontend/src/slices/orderSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\n\nexport const placeOrder = createAsyncThunk(\n  'orders/place',\n  async ({ userId, token, items }) => {\n    const res = await fetch(`${process.env.REACT_APP_ORDER_URL}/orders/${userId}/place`, {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ userId, items }),\n    });\n\n    const data = await res.json();\n    if (!res.ok) throw new Error(data.message || 'Order placement failed');\n    return data;\n  }\n);\n\nexport const fetchOrders = createAsyncThunk('orders/fetch', async ({ userId }) => {\n  const token = localStorage.getItem('token');\n  const res = await fetch(`${process.env.REACT_APP_ORDER_URL}/orders/${userId}`, {\n    headers: { 'Authorization': `Bearer ${token}` }\n  });\n  return await res.json();\n});\n\nconst orderSlice = createSlice({\n  name: 'orders',\n  initialState: {\n    list: [],\n    loading: false,\n    error: null\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchOrders.fulfilled, (state, action) => {\n        state.list = action.payload;\n      });\n  }\n});\n\nexport default orderSlice.reducer;\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;AAEhE,OAAO,MAAMC,UAAU,GAAGD,gBAAgB,CACxC,cAAc,EACd,OAAO;EAAEE,MAAM;EAAEC,KAAK;EAAEC;AAAM,CAAC,KAAK;EAClC,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,mBAAmB,WAAWP,MAAM,QAAQ,EAAE;IACnFQ,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACP,eAAe,EAAE,UAAUR,KAAK,EAAE;MAClC,cAAc,EAAE;IAClB,CAAC;IACDS,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAEZ,MAAM;MAAEE;IAAM,CAAC;EACxC,CAAC,CAAC;EAEF,MAAMW,IAAI,GAAG,MAAMV,GAAG,CAACW,IAAI,CAAC,CAAC;EAC7B,IAAI,CAACX,GAAG,CAACY,EAAE,EAAE,MAAM,IAAIC,KAAK,CAACH,IAAI,CAACI,OAAO,IAAI,wBAAwB,CAAC;EACtE,OAAOJ,IAAI;AACb,CACF,CAAC;AAED,OAAO,MAAMK,WAAW,GAAGpB,gBAAgB,CAAC,cAAc,EAAE,OAAO;EAAEE;AAAO,CAAC,KAAK;EAChF,MAAMC,KAAK,GAAGkB,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,MAAMjB,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,mBAAmB,WAAWP,MAAM,EAAE,EAAE;IAC7ES,OAAO,EAAE;MAAE,eAAe,EAAE,UAAUR,KAAK;IAAG;EAChD,CAAC,CAAC;EACF,OAAO,MAAME,GAAG,CAACW,IAAI,CAAC,CAAC;AACzB,CAAC,CAAC;AAEF,MAAMO,UAAU,GAAGxB,WAAW,CAAC;EAC7ByB,IAAI,EAAE,QAAQ;EACdC,YAAY,EAAE;IACZC,IAAI,EAAE,EAAE;IACRC,OAAO,EAAE,KAAK;IACdC,KAAK,EAAE;EACT,CAAC;EACDC,aAAa,EAAGC,OAAO,IAAK;IAC1BA,OAAO,CACJC,OAAO,CAACX,WAAW,CAACY,SAAS,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MACjDD,KAAK,CAACP,IAAI,GAAGQ,MAAM,CAACC,OAAO;IAC7B,CAAC,CAAC;EACN;AACF,CAAC,CAAC;AAEF,eAAeZ,UAAU,CAACa,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}