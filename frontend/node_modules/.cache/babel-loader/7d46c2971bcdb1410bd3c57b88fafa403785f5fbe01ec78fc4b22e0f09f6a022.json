{"ast":null,"code":"var _jsxFileName = \"/home/senthilkumar/project/shopping-cart/frontend/src/components/ProductView.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { fetchProductById } from '../slices/productSlice';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addToCart } from '../slices/cartSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductView = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const dispatch = useDispatch();\n  const {\n    selected,\n    loading,\n    error\n  } = useSelector(state => state.products);\n  useEffect(() => {\n    dispatch(fetchProductById(id));\n  }, [dispatch, id]);\n  const handleAddToCart = () => {\n    const userId = JSON.parse(atob(localStorage.getItem('token').split('.')[1])).userId;\n    dispatch(addToCart({\n      userId,\n      productId: id,\n      quantity: 1\n    }));\n  };\n  if (loading || !selected) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 36\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: [\"Error: \", error]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: selected.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: selected.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Price: \", selected.price]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleAddToCart,\n      children: \"Add to Cart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/products\",\n      children: \"Back to Product List\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductView, \"2lBMgi9sDENe8Iq1AAwtj42Jvf0=\", false, function () {\n  return [useParams, useDispatch, useSelector];\n});\n_c = ProductView;\nexport default ProductView;\nvar _c;\n$RefreshReg$(_c, \"ProductView\");","map":{"version":3,"names":["React","useEffect","useParams","fetchProductById","useDispatch","useSelector","addToCart","jsxDEV","_jsxDEV","ProductView","_s","id","dispatch","selected","loading","error","state","products","handleAddToCart","userId","JSON","parse","atob","localStorage","getItem","split","productId","quantity","children","fileName","_jsxFileName","lineNumber","columnNumber","name","description","price","onClick","Link","to","_c","$RefreshReg$"],"sources":["/home/senthilkumar/project/shopping-cart/frontend/src/components/ProductView.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { fetchProductById } from '../slices/productSlice';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addToCart } from '../slices/cartSlice';\n\nconst ProductView = () => {\n  const { id } = useParams();\n  const dispatch = useDispatch();\n  const { selected, loading, error } = useSelector(state => state.products);\n\n  useEffect(() => {\n    dispatch(fetchProductById(id));\n  }, [dispatch, id]);\n\n  const handleAddToCart = () => {\n    const userId = JSON.parse(atob(localStorage.getItem('token').split('.')[1])).userId;\n    dispatch(addToCart({ userId, productId: id, quantity: 1 }));\n  };\n\n  if (loading || !selected) return <p>Loading...</p>;\n  if (error) return <p>Error: {error}</p>;\n\n  return (\n    <div>\n      <h2>{selected.name}</h2>\n      <p>{selected.description}</p>\n      <p>Price: {selected.price}</p>\n      <button onClick={handleAddToCart}>Add to Cart</button>\n      <Link to=\"/products\">Back to Product List</Link>\n    </div>\n  );\n};\n\nexport default ProductView;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,SAASC,gBAAgB,QAAQ,wBAAwB;AACzD,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,SAAS,QAAQ,qBAAqB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhD,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB,MAAM;IAAEC;EAAG,CAAC,GAAGT,SAAS,CAAC,CAAC;EAC1B,MAAMU,QAAQ,GAAGR,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAES,QAAQ;IAAEC,OAAO;IAAEC;EAAM,CAAC,GAAGV,WAAW,CAACW,KAAK,IAAIA,KAAK,CAACC,QAAQ,CAAC;EAEzEhB,SAAS,CAAC,MAAM;IACdW,QAAQ,CAACT,gBAAgB,CAACQ,EAAE,CAAC,CAAC;EAChC,CAAC,EAAE,CAACC,QAAQ,EAAED,EAAE,CAAC,CAAC;EAElB,MAAMO,eAAe,GAAGA,CAAA,KAAM;IAC5B,MAAMC,MAAM,GAAGC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAACN,MAAM;IACnFP,QAAQ,CAACN,SAAS,CAAC;MAAEa,MAAM;MAAEO,SAAS,EAAEf,EAAE;MAAEgB,QAAQ,EAAE;IAAE,CAAC,CAAC,CAAC;EAC7D,CAAC;EAED,IAAIb,OAAO,IAAI,CAACD,QAAQ,EAAE,oBAAOL,OAAA;IAAAoB,QAAA,EAAG;EAAU;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAG,CAAC;EAClD,IAAIjB,KAAK,EAAE,oBAAOP,OAAA;IAAAoB,QAAA,GAAG,SAAO,EAACb,KAAK;EAAA;IAAAc,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAI,CAAC;EAEvC,oBACExB,OAAA;IAAAoB,QAAA,gBACEpB,OAAA;MAAAoB,QAAA,EAAKf,QAAQ,CAACoB;IAAI;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eACxBxB,OAAA;MAAAoB,QAAA,EAAIf,QAAQ,CAACqB;IAAW;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC7BxB,OAAA;MAAAoB,QAAA,GAAG,SAAO,EAACf,QAAQ,CAACsB,KAAK;IAAA;MAAAN,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC9BxB,OAAA;MAAQ4B,OAAO,EAAElB,eAAgB;MAAAU,QAAA,EAAC;IAAW;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eACtDxB,OAAA,CAAC6B,IAAI;MAACC,EAAE,EAAC,WAAW;MAAAV,QAAA,EAAC;IAAoB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC7C,CAAC;AAEV,CAAC;AAACtB,EAAA,CA1BID,WAAW;EAAA,QACAP,SAAS,EACPE,WAAW,EACSC,WAAW;AAAA;AAAAkC,EAAA,GAH5C9B,WAAW;AA4BjB,eAAeA,WAAW;AAAC,IAAA8B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}