{"ast":null,"code":"var _jsxFileName = \"/home/senthilkumar/project/shopping-cart/frontend/src/components/ProductView.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { fetchProductById } from '../slices/productSlice';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addToCart } from '../slices/cartSlice';\nimport './ProductView.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductView = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const dispatch = useDispatch();\n  const {\n    selected,\n    loading,\n    error\n  } = useSelector(state => state.products);\n  useEffect(() => {\n    dispatch(fetchProductById(id));\n  }, [dispatch, id]);\n  const handleAddToCart = () => {\n    const token = localStorage.getItem('token');\n    if (!token) return alert('Please login to add items to cart.');\n    const userId = JSON.parse(atob(token.split('.')[1])).userId;\n    dispatch(addToCart({\n      userId,\n      productId: id,\n      quantity: 1\n    }));\n  };\n  if (loading || !selected) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 36\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: [\"Error: \", error]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"product-view-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-view-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: selected.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: selected.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Price: \\u20B9\", selected.price]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleAddToCart,\n        children: \"Add to Cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/products\",\n        children: \"\\u2190 Back to Product List\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductView, \"2lBMgi9sDENe8Iq1AAwtj42Jvf0=\", false, function () {\n  return [useParams, useDispatch, useSelector];\n});\n_c = ProductView;\nexport default ProductView;\nvar _c;\n$RefreshReg$(_c, \"ProductView\");","map":{"version":3,"names":["React","useEffect","useParams","Link","fetchProductById","useDispatch","useSelector","addToCart","jsxDEV","_jsxDEV","ProductView","_s","id","dispatch","selected","loading","error","state","products","handleAddToCart","token","localStorage","getItem","alert","userId","JSON","parse","atob","split","productId","quantity","children","fileName","_jsxFileName","lineNumber","columnNumber","className","name","description","price","onClick","to","_c","$RefreshReg$"],"sources":["/home/senthilkumar/project/shopping-cart/frontend/src/components/ProductView.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { fetchProductById } from '../slices/productSlice';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addToCart } from '../slices/cartSlice';\nimport './ProductView.css';\n\nconst ProductView = () => {\n  const { id } = useParams();\n  const dispatch = useDispatch();\n  const { selected, loading, error } = useSelector(state => state.products);\n\n  useEffect(() => {\n    dispatch(fetchProductById(id));\n  }, [dispatch, id]);\n\n  const handleAddToCart = () => {\n    const token = localStorage.getItem('token');\n    if (!token) return alert('Please login to add items to cart.');\n\n    const userId = JSON.parse(atob(token.split('.')[1])).userId;\n    dispatch(addToCart({ userId, productId: id, quantity: 1 }));\n  };\n\n  if (loading || !selected) return <p>Loading...</p>;\n  if (error) return <p>Error: {error}</p>;\n\n  return (\n    <div className=\"product-view-container\">\n      <div className=\"product-view-card\">\n        <h2>{selected.name}</h2>\n        <p>{selected.description}</p>\n        <p>Price: ₹{selected.price}</p>\n        <button onClick={handleAddToCart}>Add to Cart</button>\n        <br />\n        <Link to=\"/products\">← Back to Product List</Link>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductView;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}