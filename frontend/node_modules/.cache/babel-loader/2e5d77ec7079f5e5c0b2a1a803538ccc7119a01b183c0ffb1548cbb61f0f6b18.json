{"ast":null,"code":"/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nclass NoopAttributesProcessor {\n  process(incoming, _context) {\n    return incoming;\n  }\n}\nclass MultiAttributesProcessor {\n  _processors;\n  constructor(_processors) {\n    this._processors = _processors;\n  }\n  process(incoming, context) {\n    let filteredAttributes = incoming;\n    for (const processor of this._processors) {\n      filteredAttributes = processor.process(filteredAttributes, context);\n    }\n    return filteredAttributes;\n  }\n}\nclass AllowListProcessor {\n  _allowedAttributeNames;\n  constructor(_allowedAttributeNames) {\n    this._allowedAttributeNames = _allowedAttributeNames;\n  }\n  process(incoming, _context) {\n    const filteredAttributes = {};\n    Object.keys(incoming).filter(attributeName => this._allowedAttributeNames.includes(attributeName)).forEach(attributeName => filteredAttributes[attributeName] = incoming[attributeName]);\n    return filteredAttributes;\n  }\n}\nclass DenyListProcessor {\n  _deniedAttributeNames;\n  constructor(_deniedAttributeNames) {\n    this._deniedAttributeNames = _deniedAttributeNames;\n  }\n  process(incoming, _context) {\n    const filteredAttributes = {};\n    Object.keys(incoming).filter(attributeName => !this._deniedAttributeNames.includes(attributeName)).forEach(attributeName => filteredAttributes[attributeName] = incoming[attributeName]);\n    return filteredAttributes;\n  }\n}\n/**\n * @internal\n *\n * Create an {@link IAttributesProcessor} that acts as a simple pass-through for attributes.\n */\nexport function createNoopAttributesProcessor() {\n  return NOOP;\n}\n/**\n * @internal\n *\n * Create an {@link IAttributesProcessor} that applies all processors from the provided list in order.\n *\n * @param processors Processors to apply in order.\n */\nexport function createMultiAttributesProcessor(processors) {\n  return new MultiAttributesProcessor(processors);\n}\n/**\n * Create an {@link IAttributesProcessor} that filters by allowed attribute names and drops any names that are not in the\n * allow list.\n */\nexport function createAllowListAttributesProcessor(attributeAllowList) {\n  return new AllowListProcessor(attributeAllowList);\n}\n/**\n * Create an {@link IAttributesProcessor} that drops attributes based on the names provided in the deny list\n */\nexport function createDenyListAttributesProcessor(attributeDenyList) {\n  return new DenyListProcessor(attributeDenyList);\n}\nconst NOOP = new NoopAttributesProcessor();","map":{"version":3,"names":["NoopAttributesProcessor","process","incoming","_context","MultiAttributesProcessor","_processors","constructor","context","filteredAttributes","processor","AllowListProcessor","_allowedAttributeNames","Object","keys","filter","attributeName","includes","forEach","DenyListProcessor","_deniedAttributeNames","createNoopAttributesProcessor","NOOP","createMultiAttributesProcessor","processors","createAllowListAttributesProcessor","attributeAllowList","createDenyListAttributesProcessor","attributeDenyList"],"sources":["/home/senthilkumar/project/shopping-cart/frontend/node_modules/@opentelemetry/sdk-metrics/src/view/AttributesProcessor.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Context, Attributes } from '@opentelemetry/api';\n\n/**\n * The {@link AttributesProcessor} is responsible for customizing which\n * attribute(s) are to be reported as metrics dimension(s) and adding\n * additional dimension(s) from the {@link Context}.\n */\nexport interface IAttributesProcessor {\n  /**\n   * Process the metric instrument attributes.\n   *\n   * @param incoming The metric instrument attributes.\n   * @param context The active context when the instrument is synchronous.\n   * `undefined` otherwise.\n   */\n  process: (incoming: Attributes, context?: Context) => Attributes;\n}\n\nclass NoopAttributesProcessor implements IAttributesProcessor {\n  process(incoming: Attributes, _context?: Context) {\n    return incoming;\n  }\n}\n\nclass MultiAttributesProcessor implements IAttributesProcessor {\n  constructor(private readonly _processors: IAttributesProcessor[]) {}\n  process(incoming: Attributes, context?: Context): Attributes {\n    let filteredAttributes = incoming;\n    for (const processor of this._processors) {\n      filteredAttributes = processor.process(filteredAttributes, context);\n    }\n    return filteredAttributes;\n  }\n}\n\nclass AllowListProcessor implements IAttributesProcessor {\n  constructor(private _allowedAttributeNames: string[]) {}\n\n  process(incoming: Attributes, _context?: Context): Attributes {\n    const filteredAttributes: Attributes = {};\n    Object.keys(incoming)\n      .filter(attributeName =>\n        this._allowedAttributeNames.includes(attributeName)\n      )\n      .forEach(\n        attributeName =>\n          (filteredAttributes[attributeName] = incoming[attributeName])\n      );\n    return filteredAttributes;\n  }\n}\n\nclass DenyListProcessor implements IAttributesProcessor {\n  constructor(private _deniedAttributeNames: string[]) {}\n\n  process(incoming: Attributes, _context?: Context): Attributes {\n    const filteredAttributes: Attributes = {};\n    Object.keys(incoming)\n      .filter(\n        attributeName => !this._deniedAttributeNames.includes(attributeName)\n      )\n      .forEach(\n        attributeName =>\n          (filteredAttributes[attributeName] = incoming[attributeName])\n      );\n    return filteredAttributes;\n  }\n}\n\n/**\n * @internal\n *\n * Create an {@link IAttributesProcessor} that acts as a simple pass-through for attributes.\n */\nexport function createNoopAttributesProcessor(): IAttributesProcessor {\n  return NOOP;\n}\n\n/**\n * @internal\n *\n * Create an {@link IAttributesProcessor} that applies all processors from the provided list in order.\n *\n * @param processors Processors to apply in order.\n */\nexport function createMultiAttributesProcessor(\n  processors: IAttributesProcessor[]\n): IAttributesProcessor {\n  return new MultiAttributesProcessor(processors);\n}\n\n/**\n * Create an {@link IAttributesProcessor} that filters by allowed attribute names and drops any names that are not in the\n * allow list.\n */\nexport function createAllowListAttributesProcessor(\n  attributeAllowList: string[]\n): IAttributesProcessor {\n  return new AllowListProcessor(attributeAllowList);\n}\n\n/**\n * Create an {@link IAttributesProcessor} that drops attributes based on the names provided in the deny list\n */\nexport function createDenyListAttributesProcessor(\n  attributeDenyList: string[]\n): IAttributesProcessor {\n  return new DenyListProcessor(attributeDenyList);\n}\n\nconst NOOP = new NoopAttributesProcessor();\n"],"mappings":"AAAA;;;;;;;;;;;;;;;AAkCA,MAAMA,uBAAuB;EAC3BC,OAAOA,CAACC,QAAoB,EAAEC,QAAkB;IAC9C,OAAOD,QAAQ;EACjB;;AAGF,MAAME,wBAAwB;EACCC,WAAA;EAA7BC,YAA6BD,WAAmC;IAAnC,KAAAA,WAAW,GAAXA,WAAW;EAA2B;EACnEJ,OAAOA,CAACC,QAAoB,EAAEK,OAAiB;IAC7C,IAAIC,kBAAkB,GAAGN,QAAQ;IACjC,KAAK,MAAMO,SAAS,IAAI,IAAI,CAACJ,WAAW,EAAE;MACxCG,kBAAkB,GAAGC,SAAS,CAACR,OAAO,CAACO,kBAAkB,EAAED,OAAO,CAAC;;IAErE,OAAOC,kBAAkB;EAC3B;;AAGF,MAAME,kBAAkB;EACFC,sBAAA;EAApBL,YAAoBK,sBAAgC;IAAhC,KAAAA,sBAAsB,GAAtBA,sBAAsB;EAAa;EAEvDV,OAAOA,CAACC,QAAoB,EAAEC,QAAkB;IAC9C,MAAMK,kBAAkB,GAAe,EAAE;IACzCI,MAAM,CAACC,IAAI,CAACX,QAAQ,CAAC,CAClBY,MAAM,CAACC,aAAa,IACnB,IAAI,CAACJ,sBAAsB,CAACK,QAAQ,CAACD,aAAa,CAAC,CACpD,CACAE,OAAO,CACNF,aAAa,IACVP,kBAAkB,CAACO,aAAa,CAAC,GAAGb,QAAQ,CAACa,aAAa,CAAE,CAChE;IACH,OAAOP,kBAAkB;EAC3B;;AAGF,MAAMU,iBAAiB;EACDC,qBAAA;EAApBb,YAAoBa,qBAA+B;IAA/B,KAAAA,qBAAqB,GAArBA,qBAAqB;EAAa;EAEtDlB,OAAOA,CAACC,QAAoB,EAAEC,QAAkB;IAC9C,MAAMK,kBAAkB,GAAe,EAAE;IACzCI,MAAM,CAACC,IAAI,CAACX,QAAQ,CAAC,CAClBY,MAAM,CACLC,aAAa,IAAI,CAAC,IAAI,CAACI,qBAAqB,CAACH,QAAQ,CAACD,aAAa,CAAC,CACrE,CACAE,OAAO,CACNF,aAAa,IACVP,kBAAkB,CAACO,aAAa,CAAC,GAAGb,QAAQ,CAACa,aAAa,CAAE,CAChE;IACH,OAAOP,kBAAkB;EAC3B;;AAGF;;;;;AAKA,OAAM,SAAUY,6BAA6BA,CAAA;EAC3C,OAAOC,IAAI;AACb;AAEA;;;;;;;AAOA,OAAM,SAAUC,8BAA8BA,CAC5CC,UAAkC;EAElC,OAAO,IAAInB,wBAAwB,CAACmB,UAAU,CAAC;AACjD;AAEA;;;;AAIA,OAAM,SAAUC,kCAAkCA,CAChDC,kBAA4B;EAE5B,OAAO,IAAIf,kBAAkB,CAACe,kBAAkB,CAAC;AACnD;AAEA;;;AAGA,OAAM,SAAUC,iCAAiCA,CAC/CC,iBAA2B;EAE3B,OAAO,IAAIT,iBAAiB,CAACS,iBAAiB,CAAC;AACjD;AAEA,MAAMN,IAAI,GAAG,IAAIrB,uBAAuB,EAAE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}