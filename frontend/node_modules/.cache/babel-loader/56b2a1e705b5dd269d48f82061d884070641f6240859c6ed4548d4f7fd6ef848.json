{"ast":null,"code":"/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport class ViewRegistry {\n  _registeredViews = [];\n  addView(view) {\n    this._registeredViews.push(view);\n  }\n  findViews(instrument, meter) {\n    const views = this._registeredViews.filter(registeredView => {\n      return this._matchInstrument(registeredView.instrumentSelector, instrument) && this._matchMeter(registeredView.meterSelector, meter);\n    });\n    return views;\n  }\n  _matchInstrument(selector, instrument) {\n    return (selector.getType() === undefined || instrument.type === selector.getType()) && selector.getNameFilter().match(instrument.name) && selector.getUnitFilter().match(instrument.unit);\n  }\n  _matchMeter(selector, meter) {\n    return selector.getNameFilter().match(meter.name) && (meter.version === undefined || selector.getVersionFilter().match(meter.version)) && (meter.schemaUrl === undefined || selector.getSchemaUrlFilter().match(meter.schemaUrl));\n  }\n}","map":{"version":3,"names":["ViewRegistry","_registeredViews","addView","view","push","findViews","instrument","meter","views","filter","registeredView","_matchInstrument","instrumentSelector","_matchMeter","meterSelector","selector","getType","undefined","type","getNameFilter","match","name","getUnitFilter","unit","version","getVersionFilter","schemaUrl","getSchemaUrlFilter"],"sources":["/home/senthilkumar/project/shopping-cart/frontend/node_modules/@opentelemetry/sdk-metrics/src/view/ViewRegistry.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { InstrumentationScope } from '@opentelemetry/core';\nimport { InstrumentDescriptor } from '../InstrumentDescriptor';\nimport { InstrumentSelector } from './InstrumentSelector';\nimport { MeterSelector } from './MeterSelector';\nimport { View } from './View';\n\nexport class ViewRegistry {\n  private _registeredViews: View[] = [];\n\n  addView(view: View) {\n    this._registeredViews.push(view);\n  }\n\n  findViews(\n    instrument: InstrumentDescriptor,\n    meter: InstrumentationScope\n  ): View[] {\n    const views = this._registeredViews.filter(registeredView => {\n      return (\n        this._matchInstrument(registeredView.instrumentSelector, instrument) &&\n        this._matchMeter(registeredView.meterSelector, meter)\n      );\n    });\n\n    return views;\n  }\n\n  private _matchInstrument(\n    selector: InstrumentSelector,\n    instrument: InstrumentDescriptor\n  ): boolean {\n    return (\n      (selector.getType() === undefined ||\n        instrument.type === selector.getType()) &&\n      selector.getNameFilter().match(instrument.name) &&\n      selector.getUnitFilter().match(instrument.unit)\n    );\n  }\n\n  private _matchMeter(\n    selector: MeterSelector,\n    meter: InstrumentationScope\n  ): boolean {\n    return (\n      selector.getNameFilter().match(meter.name) &&\n      (meter.version === undefined ||\n        selector.getVersionFilter().match(meter.version)) &&\n      (meter.schemaUrl === undefined ||\n        selector.getSchemaUrlFilter().match(meter.schemaUrl))\n    );\n  }\n}\n"],"mappings":"AAAA;;;;;;;;;;;;;;;AAsBA,OAAM,MAAOA,YAAY;EACfC,gBAAgB,GAAW,EAAE;EAErCC,OAAOA,CAACC,IAAU;IAChB,IAAI,CAACF,gBAAgB,CAACG,IAAI,CAACD,IAAI,CAAC;EAClC;EAEAE,SAASA,CACPC,UAAgC,EAChCC,KAA2B;IAE3B,MAAMC,KAAK,GAAG,IAAI,CAACP,gBAAgB,CAACQ,MAAM,CAACC,cAAc,IAAG;MAC1D,OACE,IAAI,CAACC,gBAAgB,CAACD,cAAc,CAACE,kBAAkB,EAAEN,UAAU,CAAC,IACpE,IAAI,CAACO,WAAW,CAACH,cAAc,CAACI,aAAa,EAAEP,KAAK,CAAC;IAEzD,CAAC,CAAC;IAEF,OAAOC,KAAK;EACd;EAEQG,gBAAgBA,CACtBI,QAA4B,EAC5BT,UAAgC;IAEhC,OACE,CAACS,QAAQ,CAACC,OAAO,EAAE,KAAKC,SAAS,IAC/BX,UAAU,CAACY,IAAI,KAAKH,QAAQ,CAACC,OAAO,EAAE,KACxCD,QAAQ,CAACI,aAAa,EAAE,CAACC,KAAK,CAACd,UAAU,CAACe,IAAI,CAAC,IAC/CN,QAAQ,CAACO,aAAa,EAAE,CAACF,KAAK,CAACd,UAAU,CAACiB,IAAI,CAAC;EAEnD;EAEQV,WAAWA,CACjBE,QAAuB,EACvBR,KAA2B;IAE3B,OACEQ,QAAQ,CAACI,aAAa,EAAE,CAACC,KAAK,CAACb,KAAK,CAACc,IAAI,CAAC,KACzCd,KAAK,CAACiB,OAAO,KAAKP,SAAS,IAC1BF,QAAQ,CAACU,gBAAgB,EAAE,CAACL,KAAK,CAACb,KAAK,CAACiB,OAAO,CAAC,CAAC,KAClDjB,KAAK,CAACmB,SAAS,KAAKT,SAAS,IAC5BF,QAAQ,CAACY,kBAAkB,EAAE,CAACP,KAAK,CAACb,KAAK,CAACmB,SAAS,CAAC,CAAC;EAE3D","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}