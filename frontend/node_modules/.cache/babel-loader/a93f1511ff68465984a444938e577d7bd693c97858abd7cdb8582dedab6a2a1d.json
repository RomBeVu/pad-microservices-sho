{"ast":null,"code":"/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport function validateTimeoutMillis(timeoutMillis) {\n  if (Number.isFinite(timeoutMillis) && timeoutMillis > 0) {\n    return timeoutMillis;\n  }\n  throw new Error(`Configuration: timeoutMillis is invalid, expected number greater than 0 (actual: '${timeoutMillis}')`);\n}\nexport function wrapStaticHeadersInFunction(headers) {\n  if (headers == null) {\n    return undefined;\n  }\n  return () => headers;\n}\n/**\n * @param userProvidedConfiguration  Configuration options provided by the user in code.\n * @param fallbackConfiguration Fallback to use when the {@link userProvidedConfiguration} does not specify an option.\n * @param defaultConfiguration The defaults as defined by the exporter specification\n */\nexport function mergeOtlpSharedConfigurationWithDefaults(userProvidedConfiguration, fallbackConfiguration, defaultConfiguration) {\n  return {\n    timeoutMillis: validateTimeoutMillis(userProvidedConfiguration.timeoutMillis ?? fallbackConfiguration.timeoutMillis ?? defaultConfiguration.timeoutMillis),\n    concurrencyLimit: userProvidedConfiguration.concurrencyLimit ?? fallbackConfiguration.concurrencyLimit ?? defaultConfiguration.concurrencyLimit,\n    compression: userProvidedConfiguration.compression ?? fallbackConfiguration.compression ?? defaultConfiguration.compression\n  };\n}\nexport function getSharedConfigurationDefaults() {\n  return {\n    timeoutMillis: 10000,\n    concurrencyLimit: 30,\n    compression: 'none'\n  };\n}","map":{"version":3,"names":["validateTimeoutMillis","timeoutMillis","Number","isFinite","Error","wrapStaticHeadersInFunction","headers","undefined","mergeOtlpSharedConfigurationWithDefaults","userProvidedConfiguration","fallbackConfiguration","defaultConfiguration","concurrencyLimit","compression","getSharedConfigurationDefaults"],"sources":["/home/senthilkumar/project/shopping-cart/frontend/node_modules/@opentelemetry/otlp-exporter-base/src/configuration/shared-configuration.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Configuration shared across all OTLP exporters\n *\n * Implementation note: anything added here MUST be\n * - platform-agnostic\n * - signal-agnostic\n * - transport-agnostic\n */\nexport interface OtlpSharedConfiguration {\n  timeoutMillis: number;\n  concurrencyLimit: number;\n  compression: 'gzip' | 'none';\n}\n\nexport function validateTimeoutMillis(timeoutMillis: number) {\n  if (Number.isFinite(timeoutMillis) && timeoutMillis > 0) {\n    return timeoutMillis;\n  }\n  throw new Error(\n    `Configuration: timeoutMillis is invalid, expected number greater than 0 (actual: '${timeoutMillis}')`\n  );\n}\n\nexport function wrapStaticHeadersInFunction(\n  headers: Record<string, string> | undefined\n): (() => Record<string, string>) | undefined {\n  if (headers == null) {\n    return undefined;\n  }\n\n  return () => headers;\n}\n\n/**\n * @param userProvidedConfiguration  Configuration options provided by the user in code.\n * @param fallbackConfiguration Fallback to use when the {@link userProvidedConfiguration} does not specify an option.\n * @param defaultConfiguration The defaults as defined by the exporter specification\n */\nexport function mergeOtlpSharedConfigurationWithDefaults(\n  userProvidedConfiguration: Partial<OtlpSharedConfiguration>,\n  fallbackConfiguration: Partial<OtlpSharedConfiguration>,\n  defaultConfiguration: OtlpSharedConfiguration\n): OtlpSharedConfiguration {\n  return {\n    timeoutMillis: validateTimeoutMillis(\n      userProvidedConfiguration.timeoutMillis ??\n        fallbackConfiguration.timeoutMillis ??\n        defaultConfiguration.timeoutMillis\n    ),\n    concurrencyLimit:\n      userProvidedConfiguration.concurrencyLimit ??\n      fallbackConfiguration.concurrencyLimit ??\n      defaultConfiguration.concurrencyLimit,\n    compression:\n      userProvidedConfiguration.compression ??\n      fallbackConfiguration.compression ??\n      defaultConfiguration.compression,\n  };\n}\n\nexport function getSharedConfigurationDefaults(): OtlpSharedConfiguration {\n  return {\n    timeoutMillis: 10000,\n    concurrencyLimit: 30,\n    compression: 'none',\n  };\n}\n"],"mappings":"AAAA;;;;;;;;;;;;;;;AA8BA,OAAM,SAAUA,qBAAqBA,CAACC,aAAqB;EACzD,IAAIC,MAAM,CAACC,QAAQ,CAACF,aAAa,CAAC,IAAIA,aAAa,GAAG,CAAC,EAAE;IACvD,OAAOA,aAAa;;EAEtB,MAAM,IAAIG,KAAK,CACb,qFAAqFH,aAAa,IAAI,CACvG;AACH;AAEA,OAAM,SAAUI,2BAA2BA,CACzCC,OAA2C;EAE3C,IAAIA,OAAO,IAAI,IAAI,EAAE;IACnB,OAAOC,SAAS;;EAGlB,OAAO,MAAMD,OAAO;AACtB;AAEA;;;;;AAKA,OAAM,SAAUE,wCAAwCA,CACtDC,yBAA2D,EAC3DC,qBAAuD,EACvDC,oBAA6C;EAE7C,OAAO;IACLV,aAAa,EAAED,qBAAqB,CAClCS,yBAAyB,CAACR,aAAa,IACrCS,qBAAqB,CAACT,aAAa,IACnCU,oBAAoB,CAACV,aAAa,CACrC;IACDW,gBAAgB,EACdH,yBAAyB,CAACG,gBAAgB,IAC1CF,qBAAqB,CAACE,gBAAgB,IACtCD,oBAAoB,CAACC,gBAAgB;IACvCC,WAAW,EACTJ,yBAAyB,CAACI,WAAW,IACrCH,qBAAqB,CAACG,WAAW,IACjCF,oBAAoB,CAACE;GACxB;AACH;AAEA,OAAM,SAAUC,8BAA8BA,CAAA;EAC5C,OAAO;IACLb,aAAa,EAAE,KAAK;IACpBW,gBAAgB,EAAE,EAAE;IACpBC,WAAW,EAAE;GACd;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}