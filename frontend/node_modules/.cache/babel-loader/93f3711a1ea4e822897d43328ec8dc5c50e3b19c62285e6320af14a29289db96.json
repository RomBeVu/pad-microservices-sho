{"ast":null,"code":"/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { createInstrumentDescriptor } from './InstrumentDescriptor';\nimport { CounterInstrument, GaugeInstrument, HistogramInstrument, ObservableCounterInstrument, ObservableGaugeInstrument, ObservableUpDownCounterInstrument, UpDownCounterInstrument } from './Instruments';\nimport { InstrumentType } from './export/MetricData';\n/**\n * This class implements the {@link IMeter} interface.\n */\nexport class Meter {\n  _meterSharedState;\n  constructor(_meterSharedState) {\n    this._meterSharedState = _meterSharedState;\n  }\n  /**\n   * Create a {@link Gauge} instrument.\n   */\n  createGauge(name, options) {\n    const descriptor = createInstrumentDescriptor(name, InstrumentType.GAUGE, options);\n    const storage = this._meterSharedState.registerMetricStorage(descriptor);\n    return new GaugeInstrument(storage, descriptor);\n  }\n  /**\n   * Create a {@link Histogram} instrument.\n   */\n  createHistogram(name, options) {\n    const descriptor = createInstrumentDescriptor(name, InstrumentType.HISTOGRAM, options);\n    const storage = this._meterSharedState.registerMetricStorage(descriptor);\n    return new HistogramInstrument(storage, descriptor);\n  }\n  /**\n   * Create a {@link Counter} instrument.\n   */\n  createCounter(name, options) {\n    const descriptor = createInstrumentDescriptor(name, InstrumentType.COUNTER, options);\n    const storage = this._meterSharedState.registerMetricStorage(descriptor);\n    return new CounterInstrument(storage, descriptor);\n  }\n  /**\n   * Create a {@link UpDownCounter} instrument.\n   */\n  createUpDownCounter(name, options) {\n    const descriptor = createInstrumentDescriptor(name, InstrumentType.UP_DOWN_COUNTER, options);\n    const storage = this._meterSharedState.registerMetricStorage(descriptor);\n    return new UpDownCounterInstrument(storage, descriptor);\n  }\n  /**\n   * Create a {@link ObservableGauge} instrument.\n   */\n  createObservableGauge(name, options) {\n    const descriptor = createInstrumentDescriptor(name, InstrumentType.OBSERVABLE_GAUGE, options);\n    const storages = this._meterSharedState.registerAsyncMetricStorage(descriptor);\n    return new ObservableGaugeInstrument(descriptor, storages, this._meterSharedState.observableRegistry);\n  }\n  /**\n   * Create a {@link ObservableCounter} instrument.\n   */\n  createObservableCounter(name, options) {\n    const descriptor = createInstrumentDescriptor(name, InstrumentType.OBSERVABLE_COUNTER, options);\n    const storages = this._meterSharedState.registerAsyncMetricStorage(descriptor);\n    return new ObservableCounterInstrument(descriptor, storages, this._meterSharedState.observableRegistry);\n  }\n  /**\n   * Create a {@link ObservableUpDownCounter} instrument.\n   */\n  createObservableUpDownCounter(name, options) {\n    const descriptor = createInstrumentDescriptor(name, InstrumentType.OBSERVABLE_UP_DOWN_COUNTER, options);\n    const storages = this._meterSharedState.registerAsyncMetricStorage(descriptor);\n    return new ObservableUpDownCounterInstrument(descriptor, storages, this._meterSharedState.observableRegistry);\n  }\n  /**\n   * @see {@link Meter.addBatchObservableCallback}\n   */\n  addBatchObservableCallback(callback, observables) {\n    this._meterSharedState.observableRegistry.addBatchCallback(callback, observables);\n  }\n  /**\n   * @see {@link Meter.removeBatchObservableCallback}\n   */\n  removeBatchObservableCallback(callback, observables) {\n    this._meterSharedState.observableRegistry.removeBatchCallback(callback, observables);\n  }\n}","map":{"version":3,"names":["createInstrumentDescriptor","CounterInstrument","GaugeInstrument","HistogramInstrument","ObservableCounterInstrument","ObservableGaugeInstrument","ObservableUpDownCounterInstrument","UpDownCounterInstrument","InstrumentType","Meter","_meterSharedState","constructor","createGauge","name","options","descriptor","GAUGE","storage","registerMetricStorage","createHistogram","HISTOGRAM","createCounter","COUNTER","createUpDownCounter","UP_DOWN_COUNTER","createObservableGauge","OBSERVABLE_GAUGE","storages","registerAsyncMetricStorage","observableRegistry","createObservableCounter","OBSERVABLE_COUNTER","createObservableUpDownCounter","OBSERVABLE_UP_DOWN_COUNTER","addBatchObservableCallback","callback","observables","addBatchCallback","removeBatchObservableCallback","removeBatchCallback"],"sources":["/home/senthilkumar/project/shopping-cart/frontend/node_modules/@opentelemetry/sdk-metrics/src/Meter.ts"],"sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  Meter as IMeter,\n  MetricOptions,\n  Gauge,\n  Histogram,\n  Counter,\n  UpDownCounter,\n  ObservableGauge,\n  ObservableCounter,\n  ObservableUpDownCounter,\n  BatchObservableCallback,\n  Observable,\n} from '@opentelemetry/api';\nimport { createInstrumentDescriptor } from './InstrumentDescriptor';\nimport {\n  CounterInstrument,\n  GaugeInstrument,\n  HistogramInstrument,\n  ObservableCounterInstrument,\n  ObservableGaugeInstrument,\n  ObservableUpDownCounterInstrument,\n  UpDownCounterInstrument,\n} from './Instruments';\nimport { MeterSharedState } from './state/MeterSharedState';\nimport { InstrumentType } from './export/MetricData';\n\n/**\n * This class implements the {@link IMeter} interface.\n */\nexport class Meter implements IMeter {\n  constructor(private _meterSharedState: MeterSharedState) {}\n\n  /**\n   * Create a {@link Gauge} instrument.\n   */\n  createGauge(name: string, options?: MetricOptions): Gauge {\n    const descriptor = createInstrumentDescriptor(\n      name,\n      InstrumentType.GAUGE,\n      options\n    );\n    const storage = this._meterSharedState.registerMetricStorage(descriptor);\n    return new GaugeInstrument(storage, descriptor);\n  }\n\n  /**\n   * Create a {@link Histogram} instrument.\n   */\n  createHistogram(name: string, options?: MetricOptions): Histogram {\n    const descriptor = createInstrumentDescriptor(\n      name,\n      InstrumentType.HISTOGRAM,\n      options\n    );\n    const storage = this._meterSharedState.registerMetricStorage(descriptor);\n    return new HistogramInstrument(storage, descriptor);\n  }\n\n  /**\n   * Create a {@link Counter} instrument.\n   */\n  createCounter(name: string, options?: MetricOptions): Counter {\n    const descriptor = createInstrumentDescriptor(\n      name,\n      InstrumentType.COUNTER,\n      options\n    );\n    const storage = this._meterSharedState.registerMetricStorage(descriptor);\n    return new CounterInstrument(storage, descriptor);\n  }\n\n  /**\n   * Create a {@link UpDownCounter} instrument.\n   */\n  createUpDownCounter(name: string, options?: MetricOptions): UpDownCounter {\n    const descriptor = createInstrumentDescriptor(\n      name,\n      InstrumentType.UP_DOWN_COUNTER,\n      options\n    );\n    const storage = this._meterSharedState.registerMetricStorage(descriptor);\n    return new UpDownCounterInstrument(storage, descriptor);\n  }\n\n  /**\n   * Create a {@link ObservableGauge} instrument.\n   */\n  createObservableGauge(\n    name: string,\n    options?: MetricOptions\n  ): ObservableGauge {\n    const descriptor = createInstrumentDescriptor(\n      name,\n      InstrumentType.OBSERVABLE_GAUGE,\n      options\n    );\n    const storages =\n      this._meterSharedState.registerAsyncMetricStorage(descriptor);\n    return new ObservableGaugeInstrument(\n      descriptor,\n      storages,\n      this._meterSharedState.observableRegistry\n    );\n  }\n\n  /**\n   * Create a {@link ObservableCounter} instrument.\n   */\n  createObservableCounter(\n    name: string,\n    options?: MetricOptions\n  ): ObservableCounter {\n    const descriptor = createInstrumentDescriptor(\n      name,\n      InstrumentType.OBSERVABLE_COUNTER,\n      options\n    );\n    const storages =\n      this._meterSharedState.registerAsyncMetricStorage(descriptor);\n    return new ObservableCounterInstrument(\n      descriptor,\n      storages,\n      this._meterSharedState.observableRegistry\n    );\n  }\n\n  /**\n   * Create a {@link ObservableUpDownCounter} instrument.\n   */\n  createObservableUpDownCounter(\n    name: string,\n    options?: MetricOptions\n  ): ObservableUpDownCounter {\n    const descriptor = createInstrumentDescriptor(\n      name,\n      InstrumentType.OBSERVABLE_UP_DOWN_COUNTER,\n      options\n    );\n    const storages =\n      this._meterSharedState.registerAsyncMetricStorage(descriptor);\n    return new ObservableUpDownCounterInstrument(\n      descriptor,\n      storages,\n      this._meterSharedState.observableRegistry\n    );\n  }\n\n  /**\n   * @see {@link Meter.addBatchObservableCallback}\n   */\n  addBatchObservableCallback(\n    callback: BatchObservableCallback,\n    observables: Observable[]\n  ) {\n    this._meterSharedState.observableRegistry.addBatchCallback(\n      callback,\n      observables\n    );\n  }\n\n  /**\n   * @see {@link Meter.removeBatchObservableCallback}\n   */\n  removeBatchObservableCallback(\n    callback: BatchObservableCallback,\n    observables: Observable[]\n  ) {\n    this._meterSharedState.observableRegistry.removeBatchCallback(\n      callback,\n      observables\n    );\n  }\n}\n"],"mappings":"AAAA;;;;;;;;;;;;;;;AA6BA,SAASA,0BAA0B,QAAQ,wBAAwB;AACnE,SACEC,iBAAiB,EACjBC,eAAe,EACfC,mBAAmB,EACnBC,2BAA2B,EAC3BC,yBAAyB,EACzBC,iCAAiC,EACjCC,uBAAuB,QAClB,eAAe;AAEtB,SAASC,cAAc,QAAQ,qBAAqB;AAEpD;;;AAGA,OAAM,MAAOC,KAAK;EACIC,iBAAA;EAApBC,YAAoBD,iBAAmC;IAAnC,KAAAA,iBAAiB,GAAjBA,iBAAiB;EAAqB;EAE1D;;;EAGAE,WAAWA,CAACC,IAAY,EAAEC,OAAuB;IAC/C,MAAMC,UAAU,GAAGf,0BAA0B,CAC3Ca,IAAI,EACJL,cAAc,CAACQ,KAAK,EACpBF,OAAO,CACR;IACD,MAAMG,OAAO,GAAG,IAAI,CAACP,iBAAiB,CAACQ,qBAAqB,CAACH,UAAU,CAAC;IACxE,OAAO,IAAIb,eAAe,CAACe,OAAO,EAAEF,UAAU,CAAC;EACjD;EAEA;;;EAGAI,eAAeA,CAACN,IAAY,EAAEC,OAAuB;IACnD,MAAMC,UAAU,GAAGf,0BAA0B,CAC3Ca,IAAI,EACJL,cAAc,CAACY,SAAS,EACxBN,OAAO,CACR;IACD,MAAMG,OAAO,GAAG,IAAI,CAACP,iBAAiB,CAACQ,qBAAqB,CAACH,UAAU,CAAC;IACxE,OAAO,IAAIZ,mBAAmB,CAACc,OAAO,EAAEF,UAAU,CAAC;EACrD;EAEA;;;EAGAM,aAAaA,CAACR,IAAY,EAAEC,OAAuB;IACjD,MAAMC,UAAU,GAAGf,0BAA0B,CAC3Ca,IAAI,EACJL,cAAc,CAACc,OAAO,EACtBR,OAAO,CACR;IACD,MAAMG,OAAO,GAAG,IAAI,CAACP,iBAAiB,CAACQ,qBAAqB,CAACH,UAAU,CAAC;IACxE,OAAO,IAAId,iBAAiB,CAACgB,OAAO,EAAEF,UAAU,CAAC;EACnD;EAEA;;;EAGAQ,mBAAmBA,CAACV,IAAY,EAAEC,OAAuB;IACvD,MAAMC,UAAU,GAAGf,0BAA0B,CAC3Ca,IAAI,EACJL,cAAc,CAACgB,eAAe,EAC9BV,OAAO,CACR;IACD,MAAMG,OAAO,GAAG,IAAI,CAACP,iBAAiB,CAACQ,qBAAqB,CAACH,UAAU,CAAC;IACxE,OAAO,IAAIR,uBAAuB,CAACU,OAAO,EAAEF,UAAU,CAAC;EACzD;EAEA;;;EAGAU,qBAAqBA,CACnBZ,IAAY,EACZC,OAAuB;IAEvB,MAAMC,UAAU,GAAGf,0BAA0B,CAC3Ca,IAAI,EACJL,cAAc,CAACkB,gBAAgB,EAC/BZ,OAAO,CACR;IACD,MAAMa,QAAQ,GACZ,IAAI,CAACjB,iBAAiB,CAACkB,0BAA0B,CAACb,UAAU,CAAC;IAC/D,OAAO,IAAIV,yBAAyB,CAClCU,UAAU,EACVY,QAAQ,EACR,IAAI,CAACjB,iBAAiB,CAACmB,kBAAkB,CAC1C;EACH;EAEA;;;EAGAC,uBAAuBA,CACrBjB,IAAY,EACZC,OAAuB;IAEvB,MAAMC,UAAU,GAAGf,0BAA0B,CAC3Ca,IAAI,EACJL,cAAc,CAACuB,kBAAkB,EACjCjB,OAAO,CACR;IACD,MAAMa,QAAQ,GACZ,IAAI,CAACjB,iBAAiB,CAACkB,0BAA0B,CAACb,UAAU,CAAC;IAC/D,OAAO,IAAIX,2BAA2B,CACpCW,UAAU,EACVY,QAAQ,EACR,IAAI,CAACjB,iBAAiB,CAACmB,kBAAkB,CAC1C;EACH;EAEA;;;EAGAG,6BAA6BA,CAC3BnB,IAAY,EACZC,OAAuB;IAEvB,MAAMC,UAAU,GAAGf,0BAA0B,CAC3Ca,IAAI,EACJL,cAAc,CAACyB,0BAA0B,EACzCnB,OAAO,CACR;IACD,MAAMa,QAAQ,GACZ,IAAI,CAACjB,iBAAiB,CAACkB,0BAA0B,CAACb,UAAU,CAAC;IAC/D,OAAO,IAAIT,iCAAiC,CAC1CS,UAAU,EACVY,QAAQ,EACR,IAAI,CAACjB,iBAAiB,CAACmB,kBAAkB,CAC1C;EACH;EAEA;;;EAGAK,0BAA0BA,CACxBC,QAAiC,EACjCC,WAAyB;IAEzB,IAAI,CAAC1B,iBAAiB,CAACmB,kBAAkB,CAACQ,gBAAgB,CACxDF,QAAQ,EACRC,WAAW,CACZ;EACH;EAEA;;;EAGAE,6BAA6BA,CAC3BH,QAAiC,EACjCC,WAAyB;IAEzB,IAAI,CAAC1B,iBAAiB,CAACmB,kBAAkB,CAACU,mBAAmB,CAC3DJ,QAAQ,EACRC,WAAW,CACZ;EACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}